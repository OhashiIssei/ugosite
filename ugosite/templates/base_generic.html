<!DOCTYPE html>
<html lang="jp">
<head>
  {% block title %}<title>Ugosuu</title>{% endblock %}
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <!-- Add additional CSS in static file -->
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <link rel="stylesheet" href="{% static 'css/page-links.css' %}">

  <!-- JSXgraph -->
  <link rel="stylesheet" type="text/css" href="https://jsxgraph.org/distrib/jsxgraph.css" />
  <script type="text/javascript" src="https://jsxgraph.org/distrib/jsxgraphcore.js"></script>

  <!-- MathJax -->
  <script>
    MathJax = {
      loader: {load: ['[tex]/html']},
      chtml: {
        displayAlign: "left",
        displayIndent: '50px',
      },
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        // packages: {'[+]': ['html']}
        }
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <header>
    {% block nav %}
    <div class="logo"><a href="{% url 'index' %}">Ugosuu</a></div>
    <div class="main-nav">
      <ul>
        <!-- <li><a href="{% url 'index' %}">Home</a></li> -->
        <!-- <li><a href="{% url 'articles' %}">記事</a></li> -->
        <li><a href="{% url 'modules' %}">モジュール</a></li>
        <li><a href="{% url 'genres' %}">問題</a></li>
        <!-- <li><a href="{% url 'videos' %}">動画</a></li> -->
        <!-- <li><a href="{% url 'playlists' %}">再生リスト</a></li> -->
        <li><a href="{% url 'terms' %}">用語</a></li>
        <!-- <li><a href="{% url 'genres' %}">分野</a></li> -->
        {% if user.is_authenticated %}
        <li><a href="{% url 'logout'%}?next={{request.path}}">User</a>:</li>
        <!-- <li><a href="{% url 'logout'%}?next={{request.path}}">Logout</a></li> -->
        {% else %}
        <li><a href="{% url 'login'%}?next={{request.path}}">Login</a></li>
        {% endif %}
        <li><a href="{% url 'profile'%}"> {{ user.get_username }}</a></li>
        <li><a href="{% url 'folders' %}">Notes</a></li>
      </ul>
    </div>
    {% endblock %}
  </header>

  <nav class="subnav">
    {% block subnav %}
    {% endblock %}
  </nav>

  <main>
    <article>
      {% block content %}
      {% endblock %}
      {% block pagination %}
          {% if is_paginated %}
              <div class="pagination">
                  <span class="page-links">
                      {% if page_obj.has_previous %}
                          <a href="{{ request.path }}?page={{ page_obj.previous_page_number }}">◀︎</a>
                      {% else %}
                          <a>◁</a>
                      {% endif %}
                      <span class="page-current">
                          {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}
                      </span>
                      {% if page_obj.has_next %}
                          <a href="{{ request.path }}?page={{ page_obj.next_page_number }}">▶︎</a>
                      {% else %}
                        <a>▷</a>
                      {% endif %}
                  </span>
              </div>
          {% endif %}
      {% endblock %}
  </article>
  </main>
  
  <!-- <aside class="mokuji" id="mokuji">
    {% block rightbar %}
    {% endblock %}
  </aside> -->

  <nav class="listNav">
    <div id="folders">
      {% block folders %}
      {% endblock %}
    </div>
    <div class = "border">
    </div>
    <div id="files">
      {% block files %}
      {% endblock %}
    </div>
    <div class = "border">
    </div>
  </nav>

  <!-- <aside class="related">
    {% block related %}
    {% endblock %}
  </aside> -->

  <footer>
    <ul>
      <li  class = "linkdiv">
        <a href="#">
          Youtube
        </a>
      </li>
      <li  class = "linkdiv">
        <a href="#">
          Twitter
        </a>
      </li>
    </ul>
  </footer>

  {% block scripts %}
  {% endblock %}
</body>
</html>

